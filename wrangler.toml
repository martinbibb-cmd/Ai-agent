name = "ai-agent"
main = "src/index.js"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

# Cloudflare Workers configuration
workers_dev = true

# Bind the Anthropic API key secret
[vars]
# Public variables go here

# Secrets (set via: wrangler secret put ANTHROPIC_API_KEY)
# ANTHROPIC_API_KEY is already configured in Cloudflare dashboard

# R2 bucket for document storage
[[r2_buckets]]
binding = "DOCUMENTS"
bucket_name = "agentstorage"

# D1 database for document metadata and searchable text
[[d1_databases]]
binding = "DB"
database_name = "agent-db"
database_id = "0bef3501-1915-4566-8fa9-2f63f1d3bd84"

# Asset bindings for serving static files
[assets]
directory = "public"
